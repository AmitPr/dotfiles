var b={url:"popup.htm",homePageUrl:"http://tejji.com/",homePageText:"tejji.com",ls:{init:function(){},keys:{isDisabled:"isDisabled",iconPath:"iconPath",isContextMenuOn:"isContextMenuOn",version:"version"},defaults:{isDisabled:false,iconPath:"img/icon19.png",isContextMenuOn:true},isDisabled:function(a){if(typeof a!=="undefined")localStorage[b.ls.keys.isDisabled]=a;var c=localStorage[b.ls.keys.isDisabled];if(typeof c==="undefined")c=b.ls.defaults.isDisabled;c=c==="true";typeof a!=="undefined"&&b.sendRequest.disable();
return c},iconPath:function(a){if(typeof a!=="undefined")localStorage[b.ls.keys.iconPath]=a;a=localStorage[b.ls.keys.iconPath];if(typeof a==="undefined")a=b.ls.defaults.iconPath;return a},isContextMenuOn:function(a){if(typeof a!=="undefined")localStorage[b.ls.keys.isContextMenuOn]=a;a=localStorage[b.ls.keys.isContextMenuOn];if(typeof a==="undefined")a=b.ls.defaults.isContextMenuOn;return a!=="false"},version:function(a){if(typeof a!=="undefined")localStorage[b.ls.keys.version]=a;return localStorage[b.ls.keys.version]}},
contextMenu:{id:undefined,title:"",contexts:["all"],create:function(a){if(b.contextMenu.id===undefined){b.contextMenu.id=typeof a==="undefined"||a===null?chrome.contextMenus.create({title:b.contextMenu.title,contexts:b.contextMenu.contexts}):chrome.contextMenus.create({title:b.contextMenu.title,contexts:b.contextMenu.contexts,onclick:a});b.ls.isContextMenuOn(true);b.contextMenu.addSubButtons()}},remove:function(){if(b.contextMenu.id!==undefined){chrome.contextMenus.remove(b.contextMenu.id);b.contextMenu.id=
undefined}b.ls.isContextMenuOn(false)},init:function(a,c){b.contextMenu.title=a;b.ls.isContextMenuOn()&&b.contextMenu.create(c)},addSubButtons:function(){}},browserActions:{init:function(){chrome.browserAction.onClicked.addListener(function(){b.toolButtonClick()})}},install:{init:function(){function a(){chrome.tabs.getAllInWindow(null,function(d){for(var e=false,f=0,g;g=d[f];f++)if(g.url===b.homePageUrl){e=true;break}e||chrome.tabs.create({url:b.homePageUrl});chrome.tabs.create({url:"options.htm"})})}
var c=function(){var d=new XMLHttpRequest;d.open("GET",chrome.extension.getURL("manifest.json"),false);d.send(null);return $.parseJSON(d.responseText).version}(),h=b.ls.version();if(c!=h){typeof h=="undefined"?console.log("Extension Installed"):console.log("Extension Updated");a();b.ls.version(c)}}},omniBox:{init:function(){chrome.omnibox.onInputChanged.addListener(function(a,c){c([{content:"tejji.com",description:"tejji.com"}])});chrome.omnibox.onInputEntered.addListener(function(){b.omniBox.navigate(b.homePageUrl)})},
navigate:function(a){chrome.tabs.getSelected(null,function(c){chrome.tabs.update(c.id,{url:a})})}},icon:{set:function(a){a=b.ls.iconPath(a);chrome.browserAction.setIcon({path:a})},get:function(){return b.ls.iconPath()},init:function(){b.icon.set()}},tag:{outerHTML:"",obj:undefined,init:function(a){b.tag.outerHTML=this.outerHTML($(a));b.tag.obj=$(a)}},outerHTML:function(a){return $($("<div></div>").html(a.clone())).html()},openOptions:function(){chrome.tabs.create({url:"options.htm"})},contextMenuClick:function(){chrome.tabs.create({url:b.url})},
toolButtonClick:function(){},init:function(){b.ls.init();b.browserActions.init();b.install.init();b.omniBox.init()}};$(document).ready(function(){b.init()});
